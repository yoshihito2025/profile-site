---
title: "C言語のポインタ入門（備忘録）"
date: "2025-09-23"
---

# C言語のポインタ入門

はじめまして、yoshihitoです。よろしくお願いします。

C言語を学ぶうえで避けて通れないのが**ポインタ**です。
便利で強力な反面、忘れやすい部分でもあります。この記事では、ポインタの基本から関数での使い方までを整理してまとめます。

## ポインタとは

ポインタとは、**メモリ上のアドレス（住所）を保持する変数**です。
アドレスを操作することで、メモリを効率よく扱ったり、関数に複数の値を渡すことができます。

## 基本的な使い方

```c
#include <stdio.h>

int main()
{
  int a = 3;
  int *b = &a; // b は変数 a のアドレスを保持するポインタ

  printf("a : %d\n", a);   // 3
  printf("&a : %p\n", &a); // a のアドレス
  printf("b : %p\n", b);   // a のアドレス
  printf("*b : %d\n", *b); // b が指す値 (= a)
  return 0;
}
```

### 解説

- `int *b` : `int`型を指すポインタ変数 `b` を宣言
- `&a` : 変数 `a` のアドレスを取得
- `b` : `a` のアドレスそのもの
- `*b` : `b` が指す先（`a` の値）を参照

💡 `*` は「間接演算子」で、ポインタが指すアドレスに格納された値を取り出すときに使います。

## `scanf`でのポインタ利用

```c
#include <stdio.h>

int main()
{
  int a;
  printf("Enter an integer : ");
  scanf("%d", &a); // &a で変数 a のアドレスを渡す
  printf("%d", a);
  return 0;
}
```

`scanf` は入力した値を「変数のアドレス」に書き込む関数です。そのため、`&a` のように変数のアドレスを渡す必要があります。

## 関数とポインタ

### 値渡しの例（失敗）

```c
#include <stdio.h>

void swap(int x, int y)
{
  int z = x;
  x = y;
  y = z;
}

int main()
{
  int a = 10, b = 20;
  swap(a, b);
  printf("a: %d, b: %d\n", a, b); // 出力: a: 10, b: 20
  return 0;
}
```

関数に渡されるのは「変数そのもの」ではなく「値のコピー」です。
そのため、`a` と `b` は入れ替わりません。

### 参照渡しの例（成功）

```c
#include <stdio.h>

void swap(int *x, int *y)
{
  int z = *x;
  *x = *y;
  *y = z;
}

int main()
{
  int a = 10, b = 20;
  swap(&a, &b);
  printf("a: %d, b: %d\n", a, b); // 出力: a: 20, b: 10
  return 0;
}
```

ここでは `a` と `b` の**アドレス**を渡しています。
関数内で `*x` や `*y` を使うことで、アドレスが指す「元の変数の値」を直接変更できます。

## まとめ

- ポインタは「アドレスを保持する変数」
- `&` で変数のアドレスを取得、`*` でそのアドレス先の値を参照
- `scanf` のような関数はポインタを使って値を書き換える
- 関数にポインタを渡せば「元の変数の値」を直接変更できる

ポインタを理解することで、C言語の関数やメモリ管理をより深く活用できるようになります。
